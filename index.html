<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <div class="mt-lg-5 col-lg-6 col-11 mt-3 container mx-auto shadow p-3">
        <h1 class="text-center text-decoration-underline">Todo Application</h1>
        <p class="alert alert-danger text-center fs-6 p-2" style="display: none;" id="showError">Alaye, when you are not
            blind. Fill in something joor</p>
        <input type="text" class="form-control form-control-sm shadow-none my-3" placeholder="Add todo" id="todo">
        <input type="text" class="form-control form-control-sm shadow-none my-3" placeholder="Todo Description"
            id="desc">
        <button class="btn btn-dark btn-sm my-3 w-100" onclick="addTodo()">Submit</button>
        <button class="btn btn-danger btn-sm my-3 w-100" onclick="deLast()">Delete last</button>
    </div>

    <div id="show"></div>

    <script>
        var allTodos = []

        function addTodo() {
            var inputOne = document.getElementById('todo').value
            var inputTwo = document.getElementById('desc').value
            var date = new Date().toLocaleDateString()
            var time = new Date().toLocaleTimeString()
            // console.log(date,time);

            if (inputOne == '' || inputTwo == '') {
                // alert("Alaye, when you are not blind. Fill in something joor")
                showError.style.display = 'block'
            } else {
                showError.style.display = 'none'
                var todoObj = {
                    todo: inputOne,
                    desc: inputTwo,
                    date,
                    time
                }
                allTodos.push(todoObj)
                document.getElementById('todo').value = ''
                document.getElementById('desc').value = ''
                console.log(allTodos);

                displayTodo()
            }
        }

        function deLast() {
            allTodos.pop()
            displayTodo()
            console.log(allTodos);
        }

        function displayTodo() {
            show.innerHTML = ''
                for (var i = 0; i < allTodos.length; i++) {
                    var showedTodo = allTodos[i].todo
                    var showedDesc = allTodos[i].desc
                    var showedDate = allTodos[i].date
                    var showedTime = allTodos[i].time

                    show.innerHTML += `
                        <h1>${showedTodo}</h1>
                        <h3>${showedDesc}</h3>
                        <small>${showedDate}, ${showedTime}</small>
                    `
                }
        }
    </script>
</body>

</html>